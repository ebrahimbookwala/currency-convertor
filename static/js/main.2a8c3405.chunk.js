(this["webpackJsonpcurrency-convertor"]=this["webpackJsonpcurrency-convertor"]||[]).push([[0],{13:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(7),s=n.n(a),u=(n(13),n(2)),i=n(3),o=n(6),j=n.n(o),b=n(8),f=n(4),l=(n(15),n(0));var O=function(e){var t=e.value,n=e.onChange,c=e.name;return Object(l.jsx)("div",{className:"from-currency-section currency-section",children:Object(l.jsx)("input",{type:"number",className:"input-number",value:t,onChange:n,name:c})})};var v=function(){return Object(l.jsx)("h1",{children:"Loading..."})};var d=function(e){var t=e.timeAgo;return Object(l.jsxs)("p",{children:["Refreshed ",t," ago"]})};var h=function(e){var t=e.text,n=e.onClick;return Object(l.jsx)("button",{className:"refresh-div",onClick:n,children:t})};var m=function(e){var t=e.optionList,n=e.onChange,c=e.name;return Object(l.jsx)("select",{onChange:function(e){n(e,c)},children:t})},x=n(19);var g=function(){var e=Object(c.useState)({}),t=Object(f.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),s=Object(f.a)(a,2),o=s[0],g=s[1],p=Object(c.useState)(""),C=Object(f.a)(p,2),y=C[0],S=C[1],k=Object(c.useState)({firstSum:0,firstCurrency:"AED",secondSum:0,secondCurrency:"AED"}),N=Object(f.a)(k,2),w=N[0],L=N[1],A=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://api.exchangeratesapi.io/v1/latest?access_key=".concat("9b20196ff6396d258febcfc5f97a1ba9"));case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("HTTP ERROR! status : ".concat(t.status));case 6:return e.next=8,t.json();case 8:n=e.sent,g(!1),r((function(e){return n.rates})),S(n.date),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log("There has been a problem. Pls try again."+e.t0.message),g(!0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){g(!0),A()}),[g,r]);var E=Object.keys(n).map((function(e){return Object(l.jsx)("option",{value:e,children:e},e)})),R=function(e,t){if("firstCurrency"===t){var c=w.firstSum/n[e.target.value]*n[w.secondCurrency]||0;L((function(n){var r;return Object(i.a)(Object(i.a)({},n),{},(r={},Object(u.a)(r,t,e.target.value),Object(u.a)(r,"secondSum",c),r))}))}else if("secondCurrency"===t){var r=w.secondSum/n[e.target.value]*n[w.firstCurrency]||0;L((function(n){var c;return Object(i.a)(Object(i.a)({},n),{},(c={},Object(u.a)(c,t,e.target.value),Object(u.a)(c,"firstSum",r),c))}))}},T=y&&Object(x.a)(new Date(y));return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("header",{className:"App-header",children:Object(l.jsx)("h1",{children:"Live Currency Convertor"})}),o?Object(l.jsx)(v,{}):Object(l.jsxs)("section",{className:"main-body",children:[Object(l.jsxs)("div",{className:"first-section flex-section",children:[Object(l.jsx)(O,{onChange:function(e){var t=e.target.value/n[w.firstCurrency]*n[w.secondCurrency];L((function(n){var c;return Object(i.a)(Object(i.a)({},n),{},(c={},Object(u.a)(c,e.target.name,e.target.value),Object(u.a)(c,"secondSum",t),c))}))},value:w.firstSum,name:"firstSum"}),Object(l.jsx)(m,{optionList:E,onChange:R,name:"firstCurrency"})]}),Object(l.jsxs)("div",{className:"second-section flex-section",children:[Object(l.jsx)(O,{onChange:function(e){var t=e.target.value/n[w.secondCurrency]*n[w.firstCurrency];L((function(n){var c;return Object(i.a)(Object(i.a)({},n),{},(c={},Object(u.a)(c,e.target.name,e.target.value),Object(u.a)(c,"firstSum",t),c))}))},value:w.secondSum,name:"secondSum"}),Object(l.jsx)(m,{optionList:E,onChange:R,name:"secondCurrency"})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)(h,{onClick:function(){return A()},text:"Refresh"}),Object(l.jsx)(d,{timeAgo:T})]})]})]})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(g,{})}),document.getElementById("root")),p()}},[[17,1,2]]]);
//# sourceMappingURL=main.2a8c3405.chunk.js.map